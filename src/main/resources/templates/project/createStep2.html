<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로젝트 생성</title>
    <link rel="stylesheet" href="/assets/css/createProject.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>
<body>

    <div class="main">
        <div class="cpTitleFrame">
            <div class="cpTitleForm">
                <img src="/src/main/resources/static/images/chun2.png" class="logoImg">
                <div class="cpTitle">프로젝트 작성하기</div>
                <div class="cpTitlepercent">20% 완료</div>
                <div class="cpTitleBtnFrame">
                    <button type="button" class="cpExitBtnForm">
                        <span class="cpExitBtn">나가기</span>
                    </button>
                </div>
            </div>
            <div class="cpTitleBoundary">
                <div class="cpProcessBar" style=" transform: translateX(-80%);"></div>
            </div>
        </div>
        <div class="cpBodyFrame">
            <div class="cpSidebarBoundary"></div>
            <div class="cpSidebarFrame">
                <div class="cpSidebarForm">
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_one</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">기본 정보</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStep2Frame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_two</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle2">제목 및 커버</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_3</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">소개</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_4</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">단체 소개</div>
                            </span>                    
                        </a>
                    </span>
                    <span class="sidebarStepFrame">
                        <a class="sidebarStepForm">
                            <span class="sidebarStepBox">
                                <div class="sidebarCheckBox">
                                    <span class="material-symbols-outlined">looks_5</span>                                                                                
                                </div>
                                <div class="sidebarStepTitle">오픈 전 확인사항</div>
                            </span>                    
                        </a>
                    </span>
                </div>
            </div>
            <div class="cpContentFrame">
                <div class="cpContentForm">
                    <div class="cpContentContainer">
                        <!-- 프로젝트 생성 공용 틀 -->
                        <div class="basicInfoBox">
                            <h3 class="basicInfoText">프로젝트 특징이 잘 드러난<br>제목과 이미지를 보여주세요</h3>
                            <div class="basicInfoSubText">감성적이면서도 프로젝트를 잘 표현하는 제목과 이미지를 등록해 주세요.</div>
                            <form action="#">
                                <div class="subImgFrame">
                                    <div class="subImgForm">
                                        <label class="subImgLabel">썸네일 이미지</label>
                                        <div class="subImgContainer">
                                            <label class="subImgBox" for="attach">
                                                <input type="file" id="attach" class="subImgInput">
                                                <div class="photoImgFrame">
                                                    <div class="photoImgForm">
                                                        <img src="/src/main/resources/static/images/add-photo-portrait.png" class="plusImg">
                                                        <h2 class="photoAddText">이미지를 첨부해주세요</h2>
                                                        <p class="photoFieldDescription"></p>
                                                    </div>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="subImgBoundary"></div>
                                    <div class="subImgTitleInfo">
                                        <label class="subImgTitle">프로젝트 제목</label>
                                        <div class="subImgTitleFrame">
                                            <input type="text" name="title" class="subTitleInput" placeholder="프로젝트의 특징이 잘 드러나는 제목을 지어주세요.">
                                        </div>
                                        <div class="subImgInfoFrame">
                                            <div class="subImgInfoQ">썸네일 이미지가 어디에 사용되나요?</div>
                                            <div class="subimgInoText">썸네일 이미지는 아래와 같이 홈페이지의 메인 페이지에서 보이는 이미지예요.</div>
                                            <div class="subImgExamFrame">
                                                <div class="subImgExamBox">
                                                    <div class="subImgExamForm">
                                                        <span class="subImgExamContainer">
                                                            <picture class="subImgExamItem">
                                                                <img src="/src/main/resources/static/images/cover-04.jpg" class="coverImg">
                                                            </picture>
                                                        </span>
                                                    </div>
                                                    <div class="examItem1"></div>
                                                    <div class="examItem2"></div>
                                                </div>
                                                <div class="subImgExamBox">
                                                    <div class="subImgExamForm">
                                                        <span class="subImgExamContainer">
                                                            <picture class="subImgExamItem">
                                                                <img src="/src/main/resources/static/images/cover-05.jpg" class="coverImg">
                                                            </picture>
                                                        </span>
                                                    </div>
                                                    <div class="examItem1"></div>
                                                    <div class="examItem2"></div>
                                                </div>
                                                <div class="subImgExamBox">
                                                    <div class="subImgExamForm">
                                                        <span class="subImgExamContainer">
                                                            <picture class="subImgExamItem">
                                                                <img src="/src/main/resources/static/images/cover-06.jpg" class="coverImg">
                                                            </picture>
                                                        </span>
                                                    </div>
                                                    <div class="examItem1"></div>
                                                    <div class="examItem2"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>                                    
                                </div>
                                <div class="nextBtnFrame">
                                    <button type="button" class="prevPage">
                                        <span class="prevPageBtn">이전</span>
                                    </button>
                                    
                                    <button type="button" class="savePage">
                                        <span class="savePageBtn">저장하기</span>
                                    </button>
                                    <button type="submit" class="nextPage">
                                        <span class="nextPageBtn">다음</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- 옆에 배너입니다 cpContentForm 끝나는 부분에 넣어주시면 됩니다 -->
                <div class="cpThumbNailFrame">
                    <div class="cpThumbNailForm">
                        <div class="cpThumbNailContainer">
                            <div class="cpThumbNailBox">
                                <div class="cpThumbNailInsertForm">
                                    <img src="/src/main/resources/static/images/add-photo-portrait.png" class="defaultImg">
                                </div>
                                <div class="cpThumbNailInfoForm">
                                    <div class="cpThumbNailInfoBox">
                                        <div class="cpThumbNailInfoName">by. 모집단체</div>
                                    </div>
                                    <div class="cpThumbNailInfoBox">
                                        <div class="cpThumbNailInfoTerrain">지형을 선택해주세요</div>
                                    </div>
                                    <div class="cpThumbNailInfoBox">
                                        <div class="cpThumbNailInfoCourse">진행 방식을 선택해주세요</div>
                                    </div>
                                    <h3 class="cpThumbNailInfoText"></h3>
                                </div>
                                <div class="cpThumbNailBlur"></div>                             
                            </div>
                            <div class="cpThumbNailProgressBox">
                                <span class="cpThumbNailProgressComplete"></span>
                                <span class="cpThumbNailProgress"></span>
                                <span class="cpThumbNailProgress"></span>
                                <span class="cpThumbNailProgressLast"></span>
                            </div>
                            <div class="cpThumbNailPrevBox"></div>
                            <button type="button" class="thunmbPrevBtn">
                                <span class="thumbPrevForm">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M15.5 5.5l-6 6.5 6 6.5L14 20l-7.5-8L14 4l1.5 1.5z" fill="#FFF"></path></svg>
                                </span>
                            </button>
                            <div class="cpThumbNailNextBox"></div>
                            <button type="button" class="thumbNextBtn">
                                <span class="thumbNextForm">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M8.5 18.5l6-6.5-6-6.5L10 4l7.5 8-7.5 8-1.5-1.5z" fill="#FFF"></path></svg>
                                </span>
                            </button>                          
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script>
    
    //첨부파일 input태그 가져오기
    const file = document.getElementById("attach")
    const thumbnail = document.querySelector("label[for='attach'] div.photoImgFrame");

    //첨부파일이 등록되었다면 change이벤트 발생
    file.addEventListener("change", function(event){
        //특정 경로의 파일을 읽어올 때 사용.
        let reader = new FileReader();

        //파일정보를 전달하여 reader객체에 등록한다.
        reader.readAsDataURL(event.target.files[0]);
        //등록이 되었다면 reader객체의 load 이벤트가 발생한다.
        $(".photoImgForm").css({"display":"none"});
        reader.onload = function(event){
            //등록된 파일의 경로에 작성된 파일의 타입검사
            if(event.target.result.includes("image")){
                console.log("이미지 파일입니다.");
                //등록된 파일의 경로로 대체
                thumbnail.style.backgroundImage = "url(\"" + event.target.result + "\")";
            }else{
                console.log("이미지 파일이 아닙니다.");
                //미리 준비해놓은 이미지 경로로 대체
                thumbnail.style.backgroundImage = "url(img/no_image.png)";
            }
        }
    });

    $(document).ready(function () {
        $("#HeaderImport").load("../fix/test/Header.html");  //헤더 인클루드
    });
</script>
</html>